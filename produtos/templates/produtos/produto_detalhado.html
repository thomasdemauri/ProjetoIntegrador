<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ENjdO4Dr2bkBIFxQpeoTz1HIcje39Wm4jDKdf19U8gI4ddQ3GYNS7NTKfAdVQSZe" crossorigin="anonymous"></script>

</head>
<body>
    <header class="container">
        <h2>Produto Detalhado</h2>
        <a href="{% url 'produtos:todos_produtos' %}">Voltar para todos os produtos</a>
        <hr>
    </header>
    <main class="container">
        <form action="{% url 'produtos:editar_produto' produto.id %}" method="POST">
            {% csrf_token %}
            <fieldset>
                <legend><h3>Editar produto</h3></legend>
                <div class="mb-3">
                    <label for="id">Id</label>
                    <input type="text" name="id" id="id" value="{{ produto.id }}" disabled>
                </div>

                <div class="mb-3">
                    <label for="descricao">Descrição</label>
                    <input type="text" name="descricao" id="descricao" value="{{ produto.descricao }}">
                </div>

                <div class="mb-3">
                    <label for="referencia_fornecedor">Referencia</label>
                    <input type="text" name="referencia_fornecedor" id="referencia_fornecedor" value="{{ produto.referencia_fornecedor }}">
                </div class="mb-3">

                <div class="mb-3">
                    <label for="fornecedor">Fornecedor</label>
                    <input type="text" name="fornecedor" id="fornecedor" value="{{ produto.fornecedor }}">
                </div class="mb-3">

                <div class="mb-3">
                    <label for="marca">Marca</label>
                    <input type="text" name="marca" id="marca" value="{{ produto.marca }}">
                </div class="mb-3">

                <div class="mb-3">
                    <label for="preco_custo">Preco Custo</label>
                    <input type="number" name="preco_custo" id="preco_custo" value="{{ produto.preco_custo }}" step="0.01">
                </div>

                <div class="mb-3">
                    <label for="preco_venda">Preco Venda</label>
                    <input type="number" name="preco_venda" id="preco_venda" value="{{ produto.preco_venda }}" step="0.01">
                </div>

                <div class="mb-3">
                    <label for="ncm">NCM</label>
                    <input type="text" name="ncm" id="ncm" value="{{ produto.ncm }}">
                </div>

                <div class="mb-3">
                    <label for="data_compra">Data Compra</label>
                    <input type="date" name="data_compra" id="data_compra" value="{{ produto.formata_data_compra }}" required>
                </div>

                <div class="mb-3">
                    <label for="ultima_modificacao">Ultima Modificação</label>
                    <!-- Esta disabled porque a data sera modificada automaticamente quando salvar -->
                    <input type="date" name="ultima_modificacao" id="ultima_modificacao" value="{{ produto.formata_ultima_modificacao }}" disabled>
                </div>
                <input type="submit" class="btn btn-primary" value="Editar">
                <button type="button" class="btn btn-danger">
                    <a class="link-light text-decoration-none" href="{% url 'produtos:excluir_produto' produto.id %}">Excluir</a>
                </button>
            </fieldset>
        </form>
        <p>{{ produto.formata_data }}</p>
    </main>
</body>
</html>